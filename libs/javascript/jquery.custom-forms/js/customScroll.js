$(document).ready(function(){	$('.custom-scroll').customScrollV();});/** * jQuery Vertical Custom Scroll v1.0.0 * Copyright (c) 2013 JetCoders * email: yuriy.shpak@jetcoders.com * www: JetCoders.com * Licensed under the MIT License: * http://www.opensource.org/licenses/mit-license.php **/jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};if(!jQuery.browser){matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}if(browser.chrome){browser.webkit=true;}else if(browser.webkit){browser.safari=true;}jQuery.browser=browser;};var types=['DOMMouseScroll','mousewheel'];if($.event.fixHooks){for(var i=types.length;i;){$.event.fixHooks[types[--i]]=$.event.mouseHooks;}}$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta){delta=orgEvent.wheelDelta/120;}if(orgEvent.detail){delta=-orgEvent.detail/3;}deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args);}jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;}});jQuery.fn.customScrollV=function(_options){var _options=jQuery.extend({lineWidth:16},_options);return this.each(function(){var _box=jQuery(this);if(_box.is(':visible')){if(_box.children('.scroll-content').length==0){var line_w=_options.lineWidth;var scrollBar=jQuery('<div class="vscroll-bar">'+'	<div class="scroll-up"></div>'+'	<div class="scroll-line">'+'		<div class="scroll-slider">'+'			<div class="scroll-slider-c"></div>'+'		</div>'+'	</div>'+'	<div class="scroll-down"></div>'+'</div>');_box.wrapInner('<div class="scroll-content"><div class="scroll-hold"></div></div>').append(scrollBar);var scrollContent=_box.children('.scroll-content');var scrollSlider=scrollBar.find('.scroll-slider');var scrollSliderH=scrollSlider.parent();var scrollUp=scrollBar.find('.scroll-up');var scrollDown=scrollBar.find('.scroll-down');var box_h=_box.height();var slider_h=0;var slider_f=0;var cont_h=scrollContent.height();var _f=false;var _f1=false;var _f2=true;var _t1,_t2,_s1,_s2;var span=$('<span style="position: absolute; width: 100%; height: 100%; z-index: 1000; display: none;" />');_box.append(span);var kkk=0,start=0,_time,flag=true;_box.css({position:'relative',overflow:'hidden',height:box_h});scrollContent.css({position:'absolute',top:0,left:0,zIndex:1,height:'auto'});scrollBar.css({position:'absolute',top:0,right:0,zIndex:2,width:line_w,height:box_h,overflow:'hidden'});scrollUp.css({width:line_w,height:line_w,overflow:'hidden',cursor:'pointer'});scrollDown.css({width:line_w,height:line_w,overflow:'hidden',cursor:'pointer'});slider_h=scrollBar.height();if(scrollUp.is(':visible'))slider_h-=scrollUp.height();if(scrollDown.is(':visible'))slider_h-=scrollDown.height();scrollSliderH.css({position:'relative',width:line_w,height:slider_h,overflow:'hidden'});slider_h=0;scrollSlider.css({position:'absolute',top:0,left:0,width:line_w,height:slider_h,overflow:'hidden',cursor:'pointer'});box_h=_box.height();cont_h=scrollContent.height();if(box_h<cont_h){_f=true;slider_h=Math.round(box_h/cont_h*scrollSliderH.height());if(slider_h<5)slider_h=5;scrollSlider.height(slider_h);slider_h=scrollSlider.outerHeight();slider_f=(cont_h-box_h)/(scrollSliderH.height()-slider_h);_s1=(scrollSliderH.height()-slider_h)/15;_s2=(scrollSliderH.height()-slider_h)/3;scrollContent.children('.scroll-hold').css('padding-right',scrollSliderH.width());}else{_f=false;scrollBar.hide();scrollContent.css({width:_box.width(),top:0,left:0});scrollContent.children('.scroll-hold').css('padding-right',0);};var _top=0;scrollUp.bind('mousedown',function(){_top-=_s1;scrollCont();_t1=setTimeout(function(){_t2=setInterval(function(){_top-=4/slider_f;scrollCont();},20);},500);return false;}).mouseup(function(){if(_t1)clearTimeout(_t1);if(_t2)clearInterval(_t2);}).mouseleave(function(){if(_t1)clearTimeout(_t1);if(_t2)clearInterval(_t2);});scrollDown.bind('mousedown',function(){_top+=_s1;scrollCont();_t1=setTimeout(function(){_t2=setInterval(function(){_top+=4/slider_f;scrollCont();},20);},500);return false;}).mouseup(function(){if(_t1)clearTimeout(_t1);if(_t2)clearInterval(_t2);}).mouseleave(function(){if(_t1)clearTimeout(_t1);if(_t2)clearInterval(_t2);});scrollSliderH.click(function(e){if(_f2){_top=e.pageY-scrollSliderH.offset().top-scrollSlider.outerHeight()/2;scrollCont();}else{_f2=true;};});var t_y=0;var tttt_f=(jQuery.browser.msie)?(true):(false);scrollSlider.mousedown(function(e){t_y=e.pageY-jQuery(this).position().top;_f1=true;return false;}).mouseup(function(){_f1=false;});jQuery('body').bind('mousemove',function(e){if(_f1){_f2=false;_top=e.pageY-t_y;if(tttt_f)document.selection.empty();scrollCont();}}).mouseup(function(){_f1=false;});scrollSlider.bind('touchstart',function(e){if(_time)clearTimeout(_time);scrollSlider.stop();scrollContent.stop();kkk=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY;e.preventDefault();e.stopPropagation();return false;}).bind('touchmove',function(e){if(_f){_f=false;var _tt=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY;if(kkk>_tt)_top-=1*Math.abs(_tt-kkk);else _top-=-1*Math.abs(_tt-kkk);scrollCont();kkk=_tt;_f=true;if((_top>0)&&(_top+slider_h<scrollSliderH.height()))return false;}e.preventDefault();e.stopPropagation();return false;}).bind('touchend',function(e){e.preventDefault();e.stopPropagation();return false;});_box.bind('touchstart',function(e){if(_time)clearTimeout(_time);scrollSlider.stop();scrollContent.stop();kkk=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY;start=kkk;flag=true;}).bind('touchmove',function(e){if(_f){var _tt=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY;_f=false;if(kkk>_tt)_top-=-1*Math.abs(_tt-kkk)/(cont_h/box_h);else _top-=1*Math.abs(_tt-kkk)/(cont_h/box_h);if(Math.abs(kkk-_tt)>20)span.css({display:'block'});scrollCont();kkk=_tt;_f=true;_time=setTimeout(function(){flag=false;},200);if((_top>0)&&(_top+slider_h<scrollSliderH.height()))return false;}}).bind('touchend',function(e){if(flag&&Math.abs(start-kkk)>80){_top+=(start-kkk)/3;if(_top<0)_top=0;else if(_top+slider_h>scrollSliderH.height())_top=scrollSliderH.height()-slider_h;scrollSlider.animate({top:_top},{queue:false,easing:'easeOutCirc',duration:300*Math.abs(start-kkk)/40});scrollContent.animate({top:-_top*slider_f},{queue:false,easing:'easeOutCirc',duration:300*Math.abs(start-kkk)/40});}span.css({display:'none'});});scrollUp.bind('touchstart',function(){_top-=_s1;scrollCont();e.preventDefault();e.stopPropagation();return false;}).bind('touchend',function(e){e.preventDefault();e.stopPropagation();return false;}).bind('touchmove',function(e){e.preventDefault();e.stopPropagation();return false;});scrollDown.bind('touchstart',function(){_top+=_s1;scrollCont();e.preventDefault();e.stopPropagation();return false;}).bind('touchend',function(e){e.preventDefault();e.stopPropagation();return false;}).bind('touchmove',function(e){e.preventDefault();e.stopPropagation();return false;});document.body.onselectstart=function(){if(_f1)return false;};if(!_box.hasClass('not-scroll')){_box.bind('mousewheel',function(event,delta){if(_f){_top-=delta*_s1;scrollCont();if((_top>0)&&(_top+slider_h<scrollSliderH.height()))return false;}});};function scrollCont(){if(_top<0)_top=0;else if(_top+slider_h>scrollSliderH.height())_top=scrollSliderH.height()-slider_h;scrollSlider.css('top',_top);scrollContent.css('top',-_top*slider_f);};this.scrollResize=function(){box_h=_box.height();cont_h=scrollContent.height();if(box_h<cont_h){_f=true;scrollBar.show();scrollBar.height(box_h);slider_h=scrollBar.height();if(scrollUp.is(':visible'))slider_h-=scrollUp.height();if(scrollDown.is(':visible'))slider_h-=scrollDown.height();scrollSliderH.height(slider_h);slider_h=Math.round(box_h/cont_h*scrollSliderH.height());if(slider_h<5)slider_h=5;scrollSlider.height(slider_h);slider_h=scrollSlider.outerHeight();slider_f=(cont_h-box_h)/(scrollSliderH.height()-slider_h);if(cont_h+scrollContent.position().top<box_h)scrollContent.css('top',-(cont_h-box_h));_top=-scrollContent.position().top/slider_f;scrollSlider.css('top',_top);_s1=(scrollSliderH.height()-slider_h)/15;_s2=(scrollSliderH.height()-slider_h)/3;scrollContent.children('.scroll-hold').css('padding-right',scrollSliderH.width());}else{_f=false;scrollBar.hide();scrollContent.css({top:0,left:0});scrollContent.children('.scroll-hold').css('padding-right',0);};};setInterval(function(){if(_box.is(':visible')&&cont_h!=scrollContent.height())_box.get(0).scrollResize();},200);}else{this.scrollResize();};};})};